{"version":3,"sources":["date-silder-helpers.ts","date-slider-defaults.ts","date-slider-event-context.ts","date-slider-event-handler.ts","date-slider-instance.ts","date-slider-model.ts","date-slider.ts","vector.ts","context/value-change-context.ts","formatter/custom-formatter.ts","formatter/date-formatter.ts","formatter/string-formatter.ts","formatter/unix-timestamp-formatter.ts","parser/custom-parser.ts","parser/date-parser.ts","parser/string-parser.ts","parser/unix-timestamp-parser.ts","slider/slider-instance.ts","slider/slider-range.ts","slider/context/slider-value-change-context.ts"],"names":[],"mappings":"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","file":"date-slider.js","sourcesContent":["module DateSlider {\r\n    export class Constants {\r\n        public static SliderMarkerValueContainer = \"marker-value-container\";\r\n        /** 86400 = 24 \\* 60 \\* 60 */\r\n        public static SecondsInDay = 86400;\r\n        /** 86400000 = 24 \\* 60 \\* 60 \\* 1000 */\r\n        public static MillisecondsInDay = 86400000;\r\n    }\r\n\r\n    export class Helpers {\r\n        public static isDefined(value: any) {\r\n            return typeof value !== \"undefined\";\r\n        }\r\n\r\n        public static isSet(value: any) {\r\n            return Helpers.isDefined(value) && value !== null;\r\n        }\r\n\r\n        public static getDaysinYear(year?: number): number {\r\n            if (typeof year === \"undefined\" || year === null) {\r\n                year = (new Date()).getUTCFullYear();\r\n            }\r\n\r\n            let startOfYear = new Date(year, 0, 0).getTime();\r\n            let endOfYear = new Date(year + 1, 0, 0).getTime();\r\n\r\n            return (endOfYear - startOfYear) / (Constants.MillisecondsInDay);\r\n        }\r\n\r\n        public static getDaysInMonth(year: number, month: number): number {\r\n            return new Date(year, month, 0).getDate();\r\n        }\r\n\r\n        public static getPositionFromEvent(e: MouseEvent | TouchEvent): Vector {\r\n            if (e instanceof MouseEvent) {\r\n                return new Vector(e.clientX, e.clientY);\r\n            } else if (e instanceof TouchEvent) {\r\n                return new Vector(e.targetTouches[0].clientX, e.targetTouches[0].clientY);\r\n            }\r\n\r\n            throw new Error(\"Cannot extract position from event.\");\r\n        }\r\n\r\n        public static findChildWithClass(element: HTMLElement, className: string, required = true): HTMLElement {\r\n            let found = element.getElementsByClassName(className);\r\n            if (found.length > 0) {\r\n                return found[0] as HTMLElement;\r\n            }\r\n\r\n            if (required) {\r\n                throw new Error(`Cannot find DOM element with class: '${className}' in the template.`);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        public static calculateCenterPosition(element: HTMLElement | ClientRect): Vector {\r\n            if (element instanceof HTMLElement) {\r\n                return new Vector(element.offsetLeft + element.offsetWidth / 2,\r\n                    element.offsetTop + element.offsetHeight / 2);\r\n            } else if (element instanceof ClientRect) {\r\n                return new Vector(element.left + element.width / 2,\r\n                    element.top + element.height / 2);\r\n            }\r\n            throw new Error(\"Invalid parameter.\");\r\n        }\r\n\r\n        /**\r\n         * Registers a listener to the element's destroy.\r\n         * @param element The element whose destroy event should be watched.\r\n         * @param callback A callback method with an optional event parameter.\r\n         * The parameter is an Event, if the 'DOMNodeRemoved' event was caught.\r\n         * The parameter is undefined if a MutationObserver was used to watch the element's destroy event.\r\n         */\r\n        public static registerOnDestroy(element: HTMLElement, callback: (event?: Event) => void): void {\r\n            if ((window as Window & { MutationObserver?: any}).MutationObserver && element.parentElement) {\r\n                let observer = new MutationObserver((mutations) => {\r\n                    let isTargetRemoved = mutations.some((mutation) => {\r\n                        for (let i = 0; i < mutation.removedNodes.length; i++) {\r\n                            if (mutation.removedNodes[i] === element) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                        return false;\r\n                    });\r\n                    if (isTargetRemoved) {\r\n                        callback();\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n\r\n                observer.observe(element.parentNode, { childList: true, subtree: true });\r\n            } else {\r\n                element.addEventListener(\"DOMNodeRemoved\", (event) => callback(event), false);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Shallow merges objects to a destination object.\r\n         * Use \\{\\} as the \"to\" parameter and add the original object to the \"from\" parameter if you do not want to modify the original object.\r\n         * @param to The destination object.\r\n         * @param from The objects wose properties will overwrite the properties of the destination object.\r\n         * @returns The merged object.\r\n         */\r\n        public static shallowMerge<T extends { [key: string]: any }, U extends { [key: string]: any }>(to: T, ...from: U[]): T & U {\r\n            for (let f of from) {\r\n                if (typeof f === \"undefined\" || f === null) {\r\n                    break;\r\n                }\r\n\r\n                for (let propertyName in f) {\r\n                    if (f.hasOwnProperty(propertyName)) {\r\n                        to[propertyName] = f[propertyName];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return to as T & U;\r\n        }\r\n\r\n        public static deepMerge<T extends { [key: string]: any }, U extends { [key: string]: any }>(to: T, ...from: U[]): T & U {\r\n            for (let f of from) {\r\n                if (typeof f === \"undefined\" || f === null) {\r\n                    break;\r\n                }\r\n\r\n                for (let propertyName in f) {\r\n                    if (f.hasOwnProperty(propertyName)) {\r\n                        if (typeof f[propertyName] === \"object\") {\r\n                            if (f[propertyName] instanceof Array) {\r\n                                to[propertyName] = new Array();\r\n                                for (let a of f[propertyName]) {\r\n                                    (to[propertyName] as Array<any>).push(Helpers.deepMerge({}, a));\r\n                                }\r\n                            } else if (f[propertyName] instanceof Node) {\r\n                                to[propertyName] = f[propertyName];\r\n                            } else {\r\n                                to[propertyName] = Helpers.deepMerge({}, f[propertyName]);\r\n                            }\r\n                        } else {\r\n                            to[propertyName] = f[propertyName];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return to as T & U;\r\n        }\r\n    }\r\n}\r\n","module DateSlider {\r\n    /**\r\n     * Default options for the whole DateSlider.\r\n     */\r\n    export let defaults: DateSliderOptions = {\r\n        formatter: \"timestamp\",\r\n        formatterOptions: { type: \"milliseconds\" },\r\n        interval: false,\r\n        parser: \"timestamp\",\r\n        parserOptions: { type: \"milliseconds\" },\r\n    };\r\n\r\n    /**\r\n     * Default options for the universal time slider.\r\n     */\r\n    export let universalTimeDefaults: SliderOptions = {\r\n        displayValueFormatter: (value: number): string => {\r\n            let pad = (v: number): string => {\r\n                return (0 <= v && v < 10) ? `0${v}` : v.toString();\r\n            };\r\n            let seconds = value % 60;\r\n            let minutes = Math.floor(value / 60) % 60;\r\n            let hours = Math.floor(value / 3600);\r\n            return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;\r\n        },\r\n        markers: {\r\n            displayValueFormatter: (value: number, minimum: number, maximum: number): string => {\r\n                if (value === maximum) {\r\n                    return \"24\";\r\n                }\r\n                return (value / 3600).toString();\r\n            },\r\n            perpendicularOffset: 20,\r\n            showValueMarker: (value: number, minimum: number, maximum: number): string | string[] => {\r\n                let show: boolean;\r\n                if (value === maximum) {\r\n                    show = true;\r\n                } else {\r\n                    show = value % 3600 === 0;\r\n                }\r\n\r\n                return show ? \"\" : null;\r\n            },\r\n        },\r\n        type: \"universal-time\",\r\n    };\r\n\r\n    export let monthDefaults: SliderOptions = {\r\n        markers: {\r\n            perpendicularOffset: 20,\r\n            showValueMarker: (value: number, minimum: number, maximum: number): string | string[] => {\r\n                return \"\";\r\n            },\r\n        },\r\n        type: \"month\",\r\n    };\r\n\r\n    export let universalDateDefaults: SliderOptions = {\r\n        // markers: {\r\n        //     perpendicularOffset: 20,\r\n        //     showValueMarker: (value: number, minimum: number, maximum: number): string | string[] => {\r\n        //         return \"\";\r\n        //     },\r\n        // },\r\n        type: \"universal-date\",\r\n    };\r\n\r\n    export let yearDefaults: SliderOptions = {\r\n        markers: {\r\n            perpendicularOffset: 20,\r\n            showValueMarker: (value: number, minimum: number, maximum: number): string | string[] => {\r\n                return \"\";\r\n            },\r\n        },\r\n        movement: \"slide\",\r\n        movementSpeed: 100,\r\n        type: \"year\",\r\n    };\r\n\r\n    export let dayDefaults: SliderOptions = {\r\n        markers: {\r\n            perpendicularOffset: 20,\r\n            showValueMarker: (value: number, minimum: number, maximum: number): string | string[] => {\r\n                return \"\";\r\n            },\r\n        },\r\n        type: \"day\",\r\n    };\r\n\r\n    export let defaultSilderOptions: {[key: string]: SliderOptions} = {\r\n        \"day\": dayDefaults,\r\n        \"month\": monthDefaults,\r\n        \"universal-date\": universalDateDefaults,\r\n        \"universal-time\": universalTimeDefaults,\r\n        \"year\": yearDefaults,\r\n    };\r\n}\r\n","module DateSlider {\r\n    export class DateSliderEventContext {\r\n        private _isPropagationStopped = false;\r\n\r\n        public get isPropagationStopped() {\r\n            return this._isPropagationStopped;\r\n        }\r\n\r\n        public stopPropagation(): void {\r\n            this._isPropagationStopped = true;\r\n        }\r\n    }\r\n}\r\n","module DateSlider {\r\n    export class DateSliderEventHandler {\r\n        private events: ((context: DateSliderEventContext) => void)[] = [];\r\n\r\n        public register(handler: (context: DateSliderEventContext) => void, index?: number): void {\r\n            if (!handler) {\r\n                return;\r\n            }\r\n\r\n            if (typeof handler !== \"function\") {\r\n                throw new Error(\"DateSliderEventHandler.register(): handler is not given or not a function.\");\r\n            }\r\n            if (Helpers.isSet(index) && 0 <= index && index < this.events.length) {\r\n                this.events.splice(index, 0, handler);\r\n            } else {\r\n                this.events.push(handler);\r\n            }\r\n        }\r\n\r\n        public remove(handler: (context: DateSliderEventContext) => void): void {\r\n            if (!handler) {\r\n                return;\r\n            }\r\n\r\n            this.events = this.events.filter((e) => e !== handler);\r\n        }\r\n\r\n        public fire(context: DateSliderEventContext): void {\r\n            for (let callback of this.events) {\r\n                callback(context);\r\n                if (context.isPropagationStopped) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","module DateSlider {\r\n    export class DateSliderInstance {\r\n        public sliders: Slider.SliderInstance[];\r\n        public parser: Parser.IParser;\r\n        public formatter: Formatter.IFormatter;\r\n        public value: DateSliderModel;\r\n\r\n        private onValueChangeEvent = new DateSliderEventHandler();\r\n\r\n        constructor(\r\n            public element: HTMLElement,\r\n            private options: DateSliderOptions,\r\n        ) {\r\n            if (!element || !element.parentNode) {\r\n                throw new Error(\"DateSlider.create(): Given HTML element is invalid.\");\r\n            }\r\n\r\n            this.bindParser();\r\n            this.bindFormatter();\r\n\r\n            if (Helpers.isSet(this.options.value)) {\r\n                this.value = this.parse(this.options.value);\r\n            } else {\r\n                this.value = new DateSliderModel(new InnerModel, null);\r\n            }\r\n\r\n            let isValid = this.validate(this.value);\r\n\r\n            this.sliders = this.createAllSliders();\r\n\r\n            this.bootstrapSliders(this.sliders);\r\n            Helpers.registerOnDestroy(element, (event) => {\r\n                for (let slider of this.sliders) {\r\n                    slider.destroy(event);\r\n                }\r\n            });\r\n\r\n            if (this.options.callback) {\r\n                this.onValueChangeEvent.register(this.options.callback.onValueChanged);\r\n            }\r\n\r\n            this.onValueChangeEvent.fire(new Context.ValueChangeContext(null, this.getValue(), isValid));\r\n        }\r\n\r\n        public parse(value: any): DateSliderModel {\r\n            return this.parser.parse(value, this.options.parserOptions);\r\n        }\r\n\r\n        public format(value: DateSliderModel): any {\r\n            return this.formatter.format(value, this.options.formatterOptions);\r\n        }\r\n\r\n        public getValue(): any {\r\n            return this.format(this.value);\r\n        }\r\n\r\n        public setValue(input: any): void {\r\n            let oldValue = this.getValue();\r\n            let newModel = this.parse(input);\r\n\r\n            let isValid = this.validate(newModel);\r\n\r\n            this.value = newModel;\r\n\r\n            this.updateSliders();\r\n            let newValue = this.getValue();\r\n            this.onValueChangeEvent.fire(new Context.ValueChangeContext(oldValue, newValue, isValid));\r\n        }\r\n\r\n        public getOptions(): DateSliderOptions {\r\n            return this.options;\r\n        }\r\n\r\n        public updateOptions(options: DateSliderOptions): void {\r\n            Helpers.deepMerge(this.options, options);\r\n            // TODO update sliders\r\n            this.bindParser();\r\n            this.bindFormatter();\r\n        }\r\n\r\n        public replaceOptions(options: DateSliderOptions): void {\r\n            this.options = options;\r\n            // TODO update sliders\r\n            this.bindParser();\r\n            this.bindFormatter();\r\n        }\r\n\r\n        public on(eventName: DateSliderEvent, callback: (context: DateSliderEventContext) => void): void {\r\n            if (eventName === \"onValueChanged\") {\r\n                this.onValueChangeEvent.register(callback);\r\n            }\r\n        }\r\n\r\n        public updateFromSlider(sliderType: SliderType, newValue: number, oldValue: number) {\r\n            let oldModelValue = this.getValue();\r\n            let newModel = this.value.copy();\r\n\r\n            switch (sliderType) {\r\n                case \"year\":\r\n                    newModel.model.year = newValue;\r\n                    break;\r\n                case \"month\":\r\n                    newModel.model.month = newValue;\r\n                    break;\r\n                case \"day\":\r\n                    newModel.model.day = newValue;\r\n                    break;\r\n                case \"hour\":\r\n                    newModel.model.hour = newValue;\r\n                    break;\r\n                case \"minute\":\r\n                    newModel.model.minute = newValue;\r\n                    break;\r\n                case \"second\":\r\n                    newModel.model.second = newValue;\r\n                    break;\r\n                case \"universal-date\":\r\n                    // TODO\r\n                    break;\r\n                case \"universal-time\":\r\n                    newModel.model.hour = Math.floor(newValue / 3600);\r\n                    newModel.model.minute = Math.floor(newValue / 60) % 60;\r\n                    newModel.model.second = newValue % 60;\r\n                    break;\r\n                case \"universal\":\r\n                    // TODO\r\n                    break;\r\n            }\r\n\r\n            newModel.model.setDayOfMonth();\r\n\r\n            let isValid = this.validate(newModel);\r\n\r\n            this.value = newModel;\r\n            this.updateDaySliders();\r\n\r\n            let newModelValue = this.getValue();\r\n            this.onValueChangeEvent.fire(new Context.ValueChangeContext(oldModelValue, newModelValue, isValid));\r\n        }\r\n\r\n        public validate(newModel: DateSliderModel): boolean {\r\n            let isValid = this.isValid(newModel);\r\n            if (isValid) {\r\n                this.element.classList.add(\"date-slider-valid\");\r\n                this.element.classList.remove(\"date-slider-invalid\");\r\n            } else {\r\n                this.element.classList.add(\"date-slider-invalid\");\r\n                this.element.classList.remove(\"date-slider-valid\");\r\n            }\r\n            return isValid;\r\n        }\r\n\r\n        public isValid(model: DateSliderModel): boolean {\r\n            if (!this.options.validation) {\r\n                return true;\r\n            }\r\n\r\n            if (Helpers.isSet(this.options.validation.min)) {\r\n                let minimum = this.parse(this.options.validation.min);\r\n                return minimum.model.lessThanOrEqual(model.model);\r\n            }\r\n\r\n            if (Helpers.isSet(this.options.validation.max)) {\r\n                let maximum = this.parse(this.options.validation.max);\r\n                return maximum.model.greaterThanOrEqual(model.model);\r\n            }\r\n\r\n            if (Helpers.isSet(this.options.validation.custom)) {\r\n                return this.options.validation.custom(this.format(model));\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        private createAllSliders(): Slider.SliderInstance[] {\r\n            if (!this.options.sliders) {\r\n                throw new Error(\"Cannot create sliders because options.sliders is not set.\");\r\n            }\r\n            let sliders: Slider.SliderInstance[] = [];\r\n            for (let sliderOptions of this.options.sliders) {\r\n                sliders.push(Slider.create(this, sliderOptions, this.getRangeFromType(sliderOptions)));\r\n            }\r\n            return sliders;\r\n        }\r\n\r\n        private getRangeFromType(sliderOptions: SliderOptions): Slider.SliderRange {\r\n            switch (sliderOptions.type) {\r\n                case \"year\":\r\n                    return new Slider.SliderRange(this.value.model.year - 10, this.value.model.year + 10, this.value.model.year);\r\n                case \"month\":\r\n                    return new Slider.SliderRange(1, 12, this.value.model.month);\r\n                case \"day\":\r\n                    return new Slider.SliderRange(1, Helpers.getDaysInMonth(this.value.model.year, this.value.model.month), this.value.model.day);\r\n                case \"hour\":\r\n                    return new Slider.SliderRange(0, 23, this.value.model.hour);\r\n                case \"minute\":\r\n                    return new Slider.SliderRange(0, 59, this.value.model.minute);\r\n                case \"second\":\r\n                    return new Slider.SliderRange(0, 59, this.value.model.second);\r\n                case \"universal\":\r\n                    // TODO\r\n                    return new Slider.SliderRange(1, 12);\r\n                case \"universal-date\":\r\n                    // TODO\r\n                    return new Slider.SliderRange(1, 12);\r\n                case \"universal-time\":\r\n                    return new Slider.SliderRange(0, Constants.SecondsInDay - 1);\r\n                default:\r\n                    throw new Error(\"SliderOptions.type is not valid.\");\r\n            }\r\n        }\r\n\r\n        private updateDaySliders(): void {\r\n            for (let slider of this.sliders) {\r\n                if (slider.options.type === \"day\") {\r\n                    slider.updateValueWithMaximum(this.value.model.day, Helpers.getDaysInMonth(this.value.model.year, this.value.model.month));\r\n                }\r\n            }\r\n        }\r\n\r\n        private updateSliders(): void {\r\n            for (let slider of this.sliders) {\r\n                switch (slider.options.type) {\r\n                    case \"year\":\r\n                        slider.updateValue(this.value.model.year);\r\n                        break;\r\n                    case \"month\":\r\n                        slider.updateValue(this.value.model.month);\r\n                        break;\r\n                    case \"day\":\r\n                        slider.updateValueWithMaximum(this.value.model.day, Helpers.getDaysInMonth(this.value.model.year, this.value.model.month));\r\n                        break;\r\n                    case \"hour\":\r\n                        slider.updateValue(this.value.model.hour);\r\n                        break;\r\n                    case \"minute\":\r\n                        slider.updateValue(this.value.model.minute);\r\n                        break;\r\n                    case \"second\":\r\n                        slider.updateValue(this.value.model.second);\r\n                        break;\r\n                    case \"universal-date\":\r\n                        // TODO\r\n                        break;\r\n                    case \"universal-time\":\r\n                        slider.updateValue(this.value.model.hour * 3600 + this.value.model.minute * 60 + this.value.model.second);\r\n                        break;\r\n                    case \"universal\":\r\n                        // TODO\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        private bindFormatter(): void {\r\n            if (typeof this.options.formatter === \"string\") {\r\n                switch (this.options.formatter) {\r\n                    case \"timestamp\":\r\n                        this.formatter = new Formatter.UnixTimestampFormatter();\r\n                        break;\r\n                    case \"date\":\r\n                        this.formatter = new Formatter.DateFormatter();\r\n                        break;\r\n                    case \"string\":\r\n                        this.formatter = new Formatter.StringFormatter();\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"DateSlider.create(): Invalid formatter.\");\r\n                }\r\n            } else if (typeof this.options.formatter === \"function\") {\r\n                this.formatter = new Formatter.CustomFormatter(this.options.formatter);\r\n            } else {\r\n                throw new Error(\"DateSlider.create(): Invalid formatter.\");\r\n            }\r\n        }\r\n\r\n        private bindParser(): void {\r\n            if (typeof this.options.parser === \"string\") {\r\n                switch (this.options.parser) {\r\n                    case \"timestamp\":\r\n                        this.parser = new Parser.UnixTimestampParser();\r\n                        break;\r\n                    case \"date\":\r\n                        this.parser = new Parser.DateParser();\r\n                        break;\r\n                    case \"string\":\r\n                        this.parser = new Parser.StringParser();\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"DateSlider.create(): Invalid parser.\");\r\n                }\r\n            } else if (typeof this.options.parser === \"function\") {\r\n                this.parser = new Parser.CustomParser(this.options.parser);\r\n            } else {\r\n                throw new Error(\"DateSlider.create(): Invalid parser.\");\r\n            }\r\n        }\r\n\r\n        private bootstrapSliders(sliders: Slider.SliderInstance[]) {\r\n            for (let slider of sliders) {\r\n                this.element.appendChild(slider.element);\r\n            }\r\n            this.element.classList.add(\"date-slider\");\r\n\r\n            // in the appendChild method the silders' destroy method would be called because it fires the 'DOMNodeRemoved' event\r\n            // also only after this will the sliders' element gain a parent to use the MutationObserver\r\n            for (let slider of sliders) {\r\n                Helpers.registerOnDestroy(slider.element, (event) => slider.destroy(event));\r\n            }\r\n        }\r\n    }\r\n}\r\n","module DateSlider {\r\n    export class DateSliderModel {\r\n        constructor(\r\n            public model: InnerModel | null,\r\n            public rawValue: any,\r\n        ) {\r\n        }\r\n\r\n        public copy(): DateSliderModel {\r\n            return new DateSliderModel(new InnerModel(this.model.year, this.model.month, this.model.day,\r\n                this.model.hour, this.model.minute, this.model.second , this.model.timezone), this.rawValue);\r\n        }\r\n    }\r\n\r\n    export class InnerModel {\r\n        constructor(\r\n            public year = 0,\r\n            /** In the range [1, 12]. */\r\n            public month = 1,\r\n            /** In the range of [1, 31]. */\r\n            public day = 1,\r\n            public hour = 0,\r\n            public minute = 0,\r\n            public second = 0,\r\n            public timezone = \"\",\r\n        ) {\r\n            this.setDayOfMonth();\r\n        }\r\n\r\n        public setDayOfMonth() {\r\n            let daysInMonth = Helpers.getDaysInMonth(this.year, this.month);\r\n            if (this.day > daysInMonth) {\r\n                this.day = daysInMonth;\r\n            }\r\n        }\r\n\r\n        public greaterThan(other: InnerModel): boolean {\r\n            return this.compare(other, (a, b) => a > b, false);\r\n        }\r\n\r\n        public greaterThanOrEqual(other: InnerModel): boolean {\r\n            return this.compare(other, (a, b) => a > b, true);\r\n        }\r\n\r\n        public lessThan(other: InnerModel): boolean {\r\n            return this.compare(other, (a, b) => a < b, false);\r\n        }\r\n\r\n        public lessThanOrEqual(other: InnerModel): boolean {\r\n            return this.compare(other, (a, b) => a < b, true);\r\n        }\r\n\r\n        public equal(other: InnerModel): boolean {\r\n            return this.compare(other, (a, b) => false, true);\r\n        }\r\n\r\n        private compare(other: InnerModel, compareMethod: (first: number, second: number) => boolean, equalPermitted: boolean): boolean {\r\n            if (this.year !== other.year) {\r\n                return compareMethod(this.year, other.year);\r\n            }\r\n            if (this.month !== other.month) {\r\n                return compareMethod(this.month, other.month);\r\n            }\r\n            if (this.day !== other.day) {\r\n                return compareMethod(this.day, other.day);\r\n            }\r\n            if (this.hour !== other.hour) {\r\n                return compareMethod(this.hour, other.hour);\r\n            }\r\n            if (this.minute !== other.minute) {\r\n                return compareMethod(this.minute, other.minute);\r\n            }\r\n            if (this.second !== other.second) {\r\n                return compareMethod(this.second, other.second);\r\n            }\r\n            // If the execution reaches this line then the two models are equal.\r\n            return equalPermitted;\r\n        }\r\n    }\r\n}\r\n","module DateSlider {\r\n    export function create(element: HTMLElement, options?: DateSliderOptions): DateSliderInstance {\r\n        if (!element || !(element instanceof HTMLElement)) {\r\n            throw new Error(\"DateSlider.create(): Given HTML element is invalid.\");\r\n        }\r\n\r\n        let opts = Helpers.deepMerge({}, defaults, options);\r\n\r\n        for (let i = 0; i < opts.sliders.length; i++) {\r\n            let sliderDefaults = defaultSilderOptions[opts.sliders[i].type];\r\n            if (sliderDefaults) {\r\n                opts.sliders[i] = Helpers.deepMerge({}, sliderDefaults, opts.sliders[i]);\r\n            }\r\n        }\r\n\r\n        return new DateSliderInstance(element, opts);\r\n    }\r\n\r\n    // TODO\r\n    // date parser / formatter + tests\r\n    // string parser / formatter + tests\r\n    // --> range interval\r\n    // test range\r\n    // test model compare methods\r\n    // demo: out of the box, full customization\r\n    // slider distance of mouse from handle -> slowness of steps\r\n    //  angular integration\r\n    //  expanding slider\r\n    //  when changing years or months, set maximum days to monthly maximum\r\n    //  validation: min, max, custom\r\n    // --> slide, expand with acceleration!\r\n    // --> slide + expand option\r\n    // out of scope: how to check timezone when comparing models?\r\n    //  angular integration: fix jumping handle.\r\n    //  validation enable wrong values but add invalid classes\r\n    // --> ppt, docs\r\n}\r\n","module DateSlider {\r\n    export class Vector {\r\n        constructor(\r\n            public x: number,\r\n            public y: number,\r\n        ) {\r\n        }\r\n\r\n        public add(vector: Vector): Vector {\r\n            return new Vector(this.x + vector.x, this.y + vector.y);\r\n        }\r\n\r\n        public substract(vector: Vector): Vector {\r\n            return new Vector(this.x - vector.x, this.y - vector.y);\r\n        }\r\n\r\n        public multiply(scalar: number): Vector {\r\n            return new Vector(this.x * scalar, this.y * scalar);\r\n        }\r\n\r\n        public divide(scalar: number): Vector {\r\n            return new Vector(this.x / scalar, this.y / scalar);\r\n        }\r\n\r\n        public dot(vector: Vector): number {\r\n            return this.x * vector.x + this.y * vector.y;\r\n        }\r\n\r\n        public length(): number {\r\n            return Math.sqrt(this.x * this.x + this.y * this.y);\r\n        }\r\n\r\n        public normalize(): Vector {\r\n            let length = this.length();\r\n            return new Vector(this.x / length, this.y / length);\r\n        }\r\n\r\n        public perpendicularClockwise(): Vector {\r\n            return new Vector(-this.y, this.x);\r\n        }\r\n\r\n        public perpendicularCounterClockwise(): Vector {\r\n            return new Vector(this.y, -this.x);\r\n        }\r\n\r\n        public floor(): Vector {\r\n            return new Vector(Math.floor(this.x), Math.floor(this.y));\r\n        }\r\n\r\n        public ceil(): Vector {\r\n            return new Vector(Math.ceil(this.x), Math.ceil(this.y));\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"../date-slider-event-context.ts\" />\r\n\r\nmodule DateSlider.Context {\r\n    export class ValueChangeContext extends DateSliderEventContext {\r\n        constructor(\r\n            public oldValue: any,\r\n            public newValue: any,\r\n            public isValid: boolean,\r\n        ) {\r\n            super();\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Formatter {\r\n    export class CustomFormatter implements IFormatter {\r\n        constructor(\r\n            public format: (input: DateSliderModel, options: any) => any,\r\n        ) {\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Formatter {\r\n    export class DateFormatterOptions {\r\n        constructor(\r\n            public type: \"local\" | \"utc\",\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class DateFormatter implements IFormatter {\r\n        /**\r\n         * Formats a Date object from a DateSliderModel object.\r\n         */\r\n        public format(input: DateSliderModel, options: DateFormatterOptions): Date {\r\n            return new Date();\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Formatter {\r\n    export class StringFormatterOptions {\r\n        constructor(\r\n            public format: string,\r\n            public culture: string,\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class StringFormatter implements IFormatter {\r\n        /**\r\n         * Formats a string from a DateSliderModel object.\r\n         */\r\n        public format(input: DateSliderModel, options: StringFormatterOptions): string {\r\n            return \"null\";\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Formatter {\r\n    export class UnixTimestampFormatterOptions {\r\n        constructor(\r\n            public type: \"milliseconds\" | \"seconds\",\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class UnixTimestampFormatter implements IFormatter {\r\n        /**\r\n         * Formats a unix timestamp (in seconds) from a DateSliderModel object.\r\n         */\r\n        public format(input: DateSliderModel, options: UnixTimestampFormatterOptions): number {\r\n            let timestampInMs = Date.UTC(input.model.year, input.model.month - 1, input.model.day, input.model.hour, input.model.minute, input.model.second, 0);\r\n            return timestampInMs / (options.type === \"seconds\" ? 1000 : 1);\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Parser {\r\n    export class CustomParser implements IParser {\r\n        constructor(\r\n            public parse: (input: any, options: any) => DateSliderModel,\r\n        ) {\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Parser {\r\n    export class DateParserOptions {\r\n        constructor(\r\n            public type: \"local\" | \"utc\",\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class DateParser implements IParser {\r\n        public parse(input: Date, options: DateParserOptions): DateSliderModel {\r\n            return new DateSliderModel(null, input);\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Parser {\r\n    export class StringParserOptions {\r\n        constructor(\r\n            public format: string,\r\n            public culture: string,\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class StringParser implements IParser {\r\n        public parse(input: string, options: StringParserOptions): DateSliderModel {\r\n            return new DateSliderModel(null, input);\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Parser {\r\n    export class UnixTimestampParserOptions {\r\n        constructor(\r\n            public type: \"milliseconds\" | \"seconds\",\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class UnixTimestampParser implements IParser {\r\n        /** Parses a unix timestamp from a number. */\r\n        public parse(input: number, options: UnixTimestampParserOptions): DateSliderModel {\r\n            if (typeof input !== \"number\") {\r\n                throw new Error(\"Cannot parse non-number to unix timestamp.\");\r\n            }\r\n\r\n            let date = new Date(input * (options.type === \"seconds\" ? 1000 : 1));\r\n            let model = new InnerModel(date.getUTCFullYear(), date.getUTCMonth() + 1, date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\r\n            return new DateSliderModel(model, input);\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Slider {\r\n    export function create(dateSlider: DateSliderInstance, options: SliderOptions, range: SliderRange) {\r\n        switch (options.movement) {\r\n            default:\r\n            case \"none\":\r\n                return new Slider.SliderInstance(dateSlider, options, range);\r\n            case \"slide\":\r\n                return new Slider.SlidingSliderInstance(dateSlider, options, range);\r\n            case \"expand\":\r\n                return new Slider.ExpandingSliderInstance(dateSlider, options, range);\r\n        }\r\n    };\r\n\r\n    export class SliderInstance {\r\n        public element: HTMLElement;\r\n        protected sliderElement: HTMLElement;\r\n        protected sliderLineStart: HTMLElement;\r\n        protected sliderLineElement?: HTMLDivElement;\r\n        protected sliderLineEnd: HTMLElement;\r\n        protected handleElement: HTMLElement;\r\n        protected valueContainerElement?: HTMLElement;\r\n        protected markerElement?: HTMLElement;\r\n        protected markers: Array<{ element: HTMLElement, valueContainers: NodeListOf<HTMLElement>, value: number }>;\r\n\r\n        protected toDiscrete = Math.round;\r\n        protected lastPointerPosition: Vector;\r\n        protected isDragging = false;\r\n\r\n        protected onValueChangeEvent = new DateSliderEventHandler();\r\n        protected onSliderHandleGrabEvent = new DateSliderEventHandler();\r\n        protected onSliderHandleReleaseEvent = new DateSliderEventHandler();\r\n        protected onSliderHandleMoveEvent = new DateSliderEventHandler();\r\n\r\n        protected events = {\r\n            load: () => { this.updateHandlePosition(); this.updateValueDisplay(); this.createMarkers(); this.updateMarkersPosition(); },\r\n            mousedown: (e: MouseEvent) => this.handleMouseDown(e),\r\n            mousemove: (e: MouseEvent) => this.handleMouseMove(e),\r\n            mouseup: (e: MouseEvent) => this.handleMouseUp(e),\r\n            resize: () => { this.updateHandlePosition(); this.updateMarkersPosition(); },\r\n            touchend: (e: TouchEvent) => this.handleMouseUp(e),\r\n            touchmove: (e: TouchEvent) => this.handleMouseMove(e),\r\n            touchstart: (e: TouchEvent) => this.handleMouseDown(e),\r\n        };\r\n\r\n        constructor(\r\n            public dateSlider: DateSliderInstance,\r\n            public options: SliderOptions,\r\n            public range: SliderRange,\r\n        ) {\r\n            if (options.callback) {\r\n                this.onValueChangeEvent.register(options.callback.onValueChanged);\r\n                this.onSliderHandleGrabEvent.register(options.callback.onSliderHandleGrabbed);\r\n                this.onSliderHandleMoveEvent.register(options.callback.onSliderHandleMoved);\r\n                this.onSliderHandleReleaseEvent.register(options.callback.onSliderHandleReleased);\r\n            }\r\n\r\n            if (this.options.template instanceof HTMLElement) {\r\n                this.bootstrapSliderToTemplate();\r\n            } else {\r\n                this.createSliderElement();\r\n            }\r\n\r\n            this.registerListeners();\r\n\r\n            this.onValueChangeEvent.fire(new Context.SliderValueChangeContext(null, this.range.value));\r\n        }\r\n\r\n        public getValue(): number {\r\n            return this.toDiscrete(this.range.value);\r\n        }\r\n\r\n        public updateValue(value: number): void {\r\n            this.updateAfter(() => {\r\n                this.range.value = value;\r\n            });\r\n        }\r\n\r\n        public updateValueWithMaximum(value: number, maximum: number): void {\r\n            this.updateAfter(() => {\r\n                this.range.maximum = maximum;\r\n                this.range.value = value;\r\n            });\r\n            this.createMarkers();\r\n            this.updateMarkersPosition();\r\n        }\r\n\r\n        public setMininum(minimum: number): void {\r\n            this.updateAfter(() => {\r\n                this.range.minimum = minimum;\r\n            });\r\n            this.createMarkers();\r\n            this.updateMarkersPosition();\r\n        }\r\n\r\n        public on(eventName: SliderEvent, callback: (context: DateSliderEventContext) => void): void {\r\n            switch (eventName) {\r\n                case \"onValueChanged\":\r\n                    this.onValueChangeEvent.register(callback);\r\n                    break;\r\n                case \"onSliderBoxGrabbed\":\r\n                    this.onSliderHandleGrabEvent.register(callback);\r\n                    break;\r\n                case \"onSliderBoxMoved\":\r\n                    this.onSliderHandleMoveEvent.register(callback);\r\n                    break;\r\n                case \"onSliderBoxReleased\":\r\n                    this.onSliderHandleReleaseEvent.register(callback);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        public destroy(event?: Event): void {\r\n            window.removeEventListener(\"load\", this.events.load);\r\n            window.removeEventListener(\"resize\", this.events.resize);\r\n            this.removeMovementListeners();\r\n        }\r\n\r\n        protected setValue(value: number): void {\r\n            let values = this.updateAfter(() => {\r\n                this.range.value = value;\r\n            });\r\n            this.dateSlider.updateFromSlider(this.options.type, values.newValue, values.oldValue);\r\n        }\r\n\r\n        protected updateAfter(callback: () => void) {\r\n            let oldValue = this.toDiscrete(this.range.value);\r\n            callback();\r\n            let newValue = this.toDiscrete(this.range.value);\r\n            this.updateValueDisplay();\r\n            this.updateHandlePosition();\r\n            this.onValueChangeEvent.fire(new Context.SliderValueChangeContext(oldValue, newValue));\r\n            return { oldValue: oldValue, newValue: newValue };\r\n        }\r\n\r\n        protected createMarkers() {\r\n            if (this.markerElement && this.options.markers && this.options.markers.showValueMarker) {\r\n\r\n                if (this.markers) {\r\n                    for (let marker of this.markers) {\r\n                        marker.element.remove();\r\n                    }\r\n                }\r\n                this.markers = [];\r\n\r\n                for (let v = this.range.minimum; v <= this.range.maximum; v++) {\r\n                    let classNames = this.options.markers.showValueMarker(v, this.range.minimum, this.range.maximum);\r\n                    if (classNames !== null) {\r\n                        let marker = this.markerElement.cloneNode(true) as HTMLElement;\r\n\r\n                        if (typeof classNames === \"string\" && classNames.length > 0) {\r\n                            marker.classList.add(classNames);\r\n                        } else if (classNames instanceof Array) {\r\n                            marker.classList.add(...classNames);\r\n                        }\r\n\r\n                        let valueContainers = marker.getElementsByClassName(Constants.SliderMarkerValueContainer) as NodeListOf<HTMLElement>;\r\n                        this.markers.push({ element: marker, valueContainers: valueContainers, value: v });\r\n                        this.sliderElement.appendChild(marker);\r\n\r\n                        this.updateMarkerValue(this.markers[this.markers.length - 1]);\r\n                    }\r\n                }\r\n\r\n                this.sliderElement.style.overflow = \"hidden\";\r\n            }\r\n        }\r\n\r\n        protected updateMarkerValue(marker: { element: HTMLElement, valueContainers: NodeListOf<HTMLElement>, value: number }): void {\r\n            let text: string;\r\n            if (this.options.markers.displayValueFormatter) {\r\n                text = this.options.markers.displayValueFormatter(marker.value, this.range.minimum, this.range.maximum);\r\n            } else if (this.options.displayValueFormatter) {\r\n                text = this.options.displayValueFormatter(marker.value);\r\n            } else {\r\n                text = marker.value.toString();\r\n            }\r\n\r\n            for (let i = 0; i < marker.valueContainers.length; i++) {\r\n                let container = marker.valueContainers.item(i);\r\n                container.innerHTML = text;\r\n            }\r\n        }\r\n\r\n        protected bootstrapSliderToTemplate(): void {\r\n            this.element = (this.options.template as HTMLElement).cloneNode(true) as HTMLElement;\r\n\r\n            this.sliderElement = Helpers.findChildWithClass(this.element, \"slider-control-template\");\r\n            this.handleElement = Helpers.findChildWithClass(this.element, \"slider-handle-template\");\r\n            this.sliderLineStart = Helpers.findChildWithClass(this.element, \"slider-control-start-template\");\r\n            this.sliderLineEnd = Helpers.findChildWithClass(this.element, \"slider-control-end-template\");\r\n            // TODO?: multiple value containers? use same class in template and normal?\r\n            this.valueContainerElement = Helpers.findChildWithClass(this.element, \"slider-value-container-template\", false);\r\n            this.markerElement = Helpers.findChildWithClass(this.element, \"slider-marker-template\", false);\r\n            this.markerElement.remove();\r\n        }\r\n\r\n        protected createSliderElement(): void {\r\n            this.element = document.createElement(\"div\");\r\n            this.element.classList.add(\"slider\");\r\n\r\n            // value display\r\n            this.valueContainerElement = document.createElement(\"div\");\r\n            this.valueContainerElement.classList.add(\"slider-value-container\");\r\n            this.element.appendChild(this.valueContainerElement);\r\n\r\n            // value marker\r\n            this.markerElement = document.createElement(\"div\");\r\n            this.markerElement.classList.add(\"slider-marker\");\r\n\r\n            let valueContainer = document.createElement(\"div\");\r\n            valueContainer.classList.add(Constants.SliderMarkerValueContainer);\r\n            this.markerElement.appendChild(valueContainer);\r\n\r\n            let marker = document.createElement(\"div\");\r\n            marker.classList.add(\"marker-mark\");\r\n            this.markerElement.appendChild(marker);\r\n\r\n            // slider\r\n            this.sliderElement = document.createElement(\"div\");\r\n            this.sliderElement.classList.add(\"slider-control\");\r\n            this.element.appendChild(this.sliderElement);\r\n\r\n            this.sliderLineStart = document.createElement(\"div\");\r\n            this.sliderLineStart.classList.add(\"slider-control-start\");\r\n            this.sliderElement.appendChild(this.sliderLineStart);\r\n\r\n            this.sliderLineElement = document.createElement(\"div\");\r\n            this.sliderLineElement.classList.add(\"slider-control-line\");\r\n            this.sliderElement.appendChild(this.sliderLineElement);\r\n\r\n            this.sliderLineEnd = document.createElement(\"div\");\r\n            this.sliderLineEnd.classList.add(\"slider-control-end\");\r\n            this.sliderElement.appendChild(this.sliderLineEnd);\r\n\r\n            this.handleElement = document.createElement(\"div\");\r\n            this.handleElement.classList.add(\"slider-handle\");\r\n            this.sliderElement.appendChild(this.handleElement);\r\n        }\r\n\r\n        protected registerListeners(): void {\r\n            this.handleElement.addEventListener(\"mousedown\", this.events.mousedown, false);\r\n            this.handleElement.addEventListener(\"touchstart\", this.events.touchstart, true);\r\n\r\n            window.addEventListener(\"load\", this.events.load);\r\n            window.addEventListener(\"resize\", this.events.resize);\r\n        }\r\n\r\n        protected addMovementListeners(): void {\r\n            window.addEventListener(\"touchmove\", this.events.touchmove, true);\r\n            window.addEventListener(\"mousemove\", this.events.mousemove, true);\r\n\r\n            window.addEventListener(\"mouseup\", this.events.mouseup, false);\r\n            window.addEventListener(\"touchend\", this.events.touchend, false);\r\n        }\r\n\r\n        protected removeMovementListeners(): void {\r\n            window.removeEventListener(\"touchmove\", this.events.touchmove, true);\r\n            window.removeEventListener(\"mousemove\", this.events.mousemove, true);\r\n\r\n            window.removeEventListener(\"mouseup\", this.events.mouseup, false);\r\n            window.removeEventListener(\"touchend\", this.events.touchend, false);\r\n        }\r\n\r\n        protected handleMouseDown = (e: MouseEvent | TouchEvent): void => {\r\n            // only move handler with the left mouse button\r\n            if (this.isHandleReleased(e)) {\r\n                this.isDragging = false;\r\n                return;\r\n            }\r\n\r\n            e.preventDefault();\r\n\r\n            this.lastPointerPosition = Helpers.getPositionFromEvent(e);\r\n            this.isDragging = true;\r\n\r\n            this.addMovementListeners();\r\n            this.onSliderHandleGrabEvent.fire(new DateSliderEventContext());\r\n        }\r\n\r\n        protected handleMouseUp = (e: MouseEvent | TouchEvent): void => {\r\n            this.isDragging = false;\r\n            this.lastPointerPosition = Helpers.getPositionFromEvent(e);\r\n            this.setValue(this.toDiscrete(this.calculateValue(this.lastPointerPosition)));\r\n\r\n            this.removeMovementListeners();\r\n            this.onSliderHandleReleaseEvent.fire(new DateSliderEventContext());\r\n        }\r\n\r\n        protected handleMouseMove = (e: MouseEvent | TouchEvent): void => {\r\n            if (e instanceof MouseEvent) {\r\n                // prevent default: for example to disable the default image dragging\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (this.isHandleReleased(e)) {\r\n                this.removeMovementListeners();\r\n                this.isDragging = false;\r\n                return;\r\n            }\r\n\r\n            this.lastPointerPosition = Helpers.getPositionFromEvent(e);\r\n            this.setValue(this.calculateValue(this.lastPointerPosition));\r\n\r\n            this.onSliderHandleMoveEvent.fire(new DateSliderEventContext());\r\n        }\r\n\r\n        protected isHandleReleased(e: MouseEvent | TouchEvent): boolean {\r\n            // no touches\r\n            return e instanceof TouchEvent && e.targetTouches.length <= 0\r\n                // not holding the left button\r\n                || e instanceof MouseEvent && (1 & e.buttons) !== 1;\r\n        }\r\n\r\n        protected updateMarkersPosition(): void {\r\n            if (!this.markers || this.markers.length <= 0) {\r\n                return;\r\n            }\r\n\r\n            let startCenter = Helpers.calculateCenterPosition(this.sliderLineStart);\r\n            let endCenter = Helpers.calculateCenterPosition(this.sliderLineEnd);\r\n\r\n            let se = endCenter.substract(startCenter);\r\n\r\n            // with this length, if the overflow is set to hidden,\r\n            // then the first marker's start will be at the beginning of the slider\r\n            // and the last marker's start will be at the end of the slider\r\n            let markerLength = se.length() / (this.markers.length - 1);\r\n            // offset the markers, so the first marker's CENTER will be at the beginning of the slider\r\n            //                    and the last  marker's CENTER will be at the end of the slider\r\n            let xOffset = se.normalize().multiply(markerLength / 2);\r\n            for (let marker of this.markers) {\r\n                let markerRatio = (marker.value - this.range.minimum) / (this.range.maximum - this.range.minimum);\r\n                let markerYPosition = startCenter.add(se.multiply(markerRatio).add(se.normalize().perpendicularCounterClockwise().multiply(this.options.markers.perpendicularOffset || 0)));\r\n                let markerXPosition = markerYPosition.substract(xOffset);\r\n\r\n                marker.element.style.width = `${markerLength.toFixed(2)}px`;\r\n                marker.element.style.position = \"absolute\";\r\n                marker.element.style.top = `${(markerYPosition.y - marker.element.scrollHeight).toFixed(2)}px`;\r\n                marker.element.style.left = `${markerXPosition.x.toFixed(2)}px`;\r\n            }\r\n        }\r\n\r\n        protected updateValueDisplay = (): void => {\r\n            if (this.valueContainerElement) {\r\n                let value = this.getValue();\r\n                let displayedValue = this.options.displayValueFormatter\r\n                    ? this.options.displayValueFormatter(value)\r\n                    : value.toString();\r\n                this.valueContainerElement.innerHTML = displayedValue;\r\n            }\r\n        }\r\n\r\n        protected updateHandlePosition = (): void => {\r\n            let position = this.calculateHandlePosition();\r\n            this.handleElement.style.position = \"absolute\";\r\n            this.handleElement.style.left = position.x + \"px\";\r\n            this.handleElement.style.top = position.y + \"px\";\r\n        }\r\n\r\n        protected calculateValue(position: Vector) {\r\n            let r = this.calculateOrthogonalProjectionRatio(position);\r\n            return (this.range.maximum - this.range.minimum) * r.ratio + this.range.minimum;\r\n        }\r\n\r\n        protected calculateOrthogonalProjectionRatio(position: Vector): { ratio: number, distance: number } {\r\n            // the ratio of the projection of the s->p vector on the s->e vector\r\n            // imagine that the /'s are orthogonal to the slider line\r\n            // |---------->\r\n            // |\r\n            // |   s       slider start\r\n            // |  / \\\r\n            // | .   \\a    s->a is the projection\r\n            // |  \\  /\\\r\n            // |    p  \\   p is the position of the mouse / touch\r\n            // V        e  slider end\r\n            let start = this.sliderLineStart.getBoundingClientRect();\r\n            let end = this.sliderLineEnd.getBoundingClientRect();\r\n            let startCenter = Helpers.calculateCenterPosition(start);\r\n            let endCenter = Helpers.calculateCenterPosition(end);\r\n\r\n            let sp = position.substract(startCenter);\r\n            let se = endCenter.substract(startCenter);\r\n\r\n            let othogonalProjectionRatio = sp.dot(se) / se.dot(se);\r\n            return {\r\n                distance: sp.substract(se.multiply(othogonalProjectionRatio)).length(),\r\n                ratio: othogonalProjectionRatio,\r\n            };\r\n        }\r\n\r\n        protected calculateHandlePosition(): Vector {\r\n            // calculates the center of an absolute positioned element\r\n\r\n            let ratioInSlider = this.range.ratio;\r\n            let startPosition = Helpers.calculateCenterPosition(this.sliderLineStart);\r\n            let endPosition = Helpers.calculateCenterPosition(this.sliderLineEnd);\r\n\r\n            // start the handle at the start\r\n            // the handle's center should be at the start, so it needs an adjustment\r\n            // finally, calculate the handle's position in the line by it's range value (min: 0% -> max: 100%)\r\n            return new Vector(startPosition.x - this.handleElement.offsetWidth / 2 + (endPosition.x - startPosition.x) * ratioInSlider,\r\n                startPosition.y - this.handleElement.offsetHeight / 2 + (endPosition.y - startPosition.y) * ratioInSlider);\r\n        }\r\n    }\r\n\r\n    export class SlidingSliderInstance extends SliderInstance {\r\n        protected borderCheckIntervalHandle: number;\r\n\r\n        constructor(\r\n            dateSlider: DateSliderInstance,\r\n            options: SliderOptions,\r\n            range: SliderRange,\r\n        ) {\r\n            super(dateSlider, options, range);\r\n            this.borderCheckIntervalHandle = window.setInterval(this.borderCheck, this.options.movementSpeed || 0);\r\n        }\r\n\r\n        public destroy(event?: Event): void {\r\n            super.destroy(event);\r\n            window.clearInterval(this.borderCheckIntervalHandle);\r\n        }\r\n\r\n        public updateValue(value: number): void {\r\n            this.updateAfter(() => {\r\n                this.range.slideTo(value, false);\r\n            });\r\n            this.createMarkers();\r\n            this.updateMarkersPosition();\r\n        }\r\n\r\n        protected onBorder(direction: number): void {\r\n            this.range.slide(direction * (this.options.movementStep || 1));\r\n            if (this.isDragging) {\r\n                this.range.value = this.calculateValue(this.lastPointerPosition);\r\n            }\r\n        }\r\n\r\n        protected borderCheck = () => {\r\n            let direction: number;\r\n            if (this.range.value === this.range.maximum) {\r\n                direction = 1;\r\n            } else if (this.range.value === this.range.minimum) {\r\n                direction = -1;\r\n            } else {\r\n                direction = 0;\r\n            }\r\n\r\n            if (direction !== 0) {\r\n                this.updateAfter(() => {\r\n                    this.onBorder(direction);\r\n                });\r\n                this.createMarkers();\r\n                this.updateMarkersPosition();\r\n            }\r\n        }\r\n    }\r\n\r\n    export class ExpandingSliderInstance extends SlidingSliderInstance {\r\n        constructor(\r\n            dateSlider: DateSliderInstance,\r\n            options: SliderOptions,\r\n            range: SliderRange,\r\n        ) {\r\n            super(dateSlider, options, range);\r\n        }\r\n\r\n        protected onBorder(direction: number): void {\r\n            if (direction === 1) {\r\n                this.range.maximum = this.range.maximum + (this.options.movementStep || 1);\r\n            }\r\n\r\n            if (direction === -1) {\r\n                this.range.minimum = this.range.minimum - (this.options.movementStep || 1);\r\n            }\r\n\r\n            if (this.isDragging) {\r\n                this.range.value = this.calculateValue(this.lastPointerPosition);\r\n            }\r\n        }\r\n    }\r\n}\r\n","module DateSlider.Slider {\r\n    export class SliderRange {\r\n        constructor(\r\n            private _minimum: number,\r\n            private _maximum: number,\r\n            private _value?: number,\r\n        ) {\r\n            if (this._minimum === this._maximum) {\r\n                throw new Error(\"Range minimum cannot be equal to the maximum.\");\r\n            }\r\n\r\n            if (typeof this._value === \"undefined\" || this._value === null) {\r\n                this._value = this._minimum;\r\n            }\r\n        }\r\n\r\n        public get ratio() {\r\n            return (this.value - this.minimum) / (this.maximum - this.minimum);\r\n        }\r\n\r\n        public get minimum() { return this._minimum; };\r\n\r\n        public set minimum(minimum: number) {\r\n            if (this._maximum <= minimum) {\r\n                throw new Error(\"Range minimum cannot be >= maximum.\");\r\n            }\r\n\r\n            if (minimum > this._value) {\r\n                this._value = minimum;\r\n            }\r\n\r\n            this._minimum = minimum;\r\n        }\r\n\r\n        public get maximum() { return this._maximum; };\r\n\r\n        public set maximum(maximum: number) {\r\n            if (this._minimum >= maximum) {\r\n                throw new Error(\"Range maximum cannot be <= minimum.\");\r\n            }\r\n\r\n            if (maximum < this._value) {\r\n                this._value = maximum;\r\n            }\r\n\r\n            this._maximum = maximum;\r\n        }\r\n\r\n        public get value() { return this._value; };\r\n\r\n        public set value(value: number) {\r\n            if (typeof value !== \"number\") {\r\n                throw new Error(\"SliderRange.setValue(value): value is not a number\");\r\n            }\r\n\r\n            if (value < this._minimum) {\r\n                this._value = this._minimum;\r\n            } else if (value > this._maximum) {\r\n                this._value = this._maximum;\r\n            } else {\r\n                this._value = value;\r\n            }\r\n        }\r\n\r\n        public increment(by = 1): void {\r\n            if (typeof by !== \"number\") {\r\n                throw new Error(\"SliderRange.increment(by): by is not a number\");\r\n            }\r\n\r\n            if (this._value + by <= this._maximum) {\r\n                this._value += by;\r\n            } else {\r\n                this._value = this._maximum;\r\n            }\r\n        }\r\n\r\n        public decrement(by = 1) {\r\n            if (typeof by !== \"number\") {\r\n                throw new Error(\"SliderRange.decrement(by): by is not a number\");\r\n            }\r\n\r\n            if (this._value - by >= this._minimum) {\r\n                this._value -= by;\r\n            } else {\r\n                this._value = this._minimum;\r\n            }\r\n        }\r\n\r\n        public expandMaximum(by = 1): void {\r\n            if (by < 0) {\r\n                throw new Error(\"Cannot expand by negative values.\");\r\n            }\r\n\r\n            if (this._value === this._maximum) {\r\n                this._maximum += by;\r\n                this._value += by;\r\n                return;\r\n            }\r\n\r\n            this._maximum += by;\r\n            this._minimum += by * ((this._value - this._minimum) / (this._value - this._maximum));\r\n        }\r\n\r\n        public expandMinimum(by = -1): void {\r\n            if (by > 0) {\r\n                throw new Error(\"Cannot expand minimum with positive values.\");\r\n            }\r\n\r\n            if (this._value === this._minimum) {\r\n                this._minimum += by;\r\n                this._value += by;\r\n                return;\r\n            }\r\n\r\n            this._minimum += by;\r\n            this._maximum += by * ((this._value - this._maximum) / (this._value - this._minimum));\r\n        }\r\n\r\n        public slide(by = 1): void {\r\n            if (typeof by !== \"number\") {\r\n                throw new Error(\"Cannot slide with non-number.\");\r\n            }\r\n\r\n            this._minimum += by;\r\n            this._maximum += by;\r\n\r\n            if (by < 0 && this._value > this._maximum) {\r\n                this._value = this._maximum;\r\n            }\r\n\r\n            if (by > 0 && this._value < this._minimum) {\r\n                this._value = this._minimum;\r\n            }\r\n        }\r\n\r\n        public slideTo(target: number, mustSlide = true): void {\r\n            if (typeof target !== \"number\") {\r\n                throw new Error(\"Cannot slideTo with non-number.\");\r\n            }\r\n\r\n            if (!mustSlide && this._minimum <= target && target <= this._maximum) {\r\n                this.value = target;\r\n                return;\r\n            }\r\n\r\n            let distance = this._maximum - this._minimum;\r\n\r\n            this._minimum = target - distance / 2;\r\n            this._value = target;\r\n            this._maximum = target + distance / 2;\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"../../date-slider-event-context.ts\" />\r\n\r\nmodule DateSlider.Slider.Context {\r\n    export class SliderValueChangeContext extends DateSliderEventContext {\r\n        constructor(\r\n            public oldValue: number,\r\n            public newValue: number,\r\n        ) {\r\n            super();\r\n        }\r\n    }\r\n}\r\n"]}